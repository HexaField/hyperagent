@tailwind base;
@tailwind components;
@tailwind utilities;

/* Make the app fill the viewport and avoid outer scrolling. */
html,
body,
#root {
  height: 100%;
  margin: 0;
}

/* Prevent the browser from showing the outer scrollbar; internal panels may still scroll. */
body {
  overflow: hidden;
}

#root {
  display: flex;
  flex-direction: column;
  width: 100%;
  height: 100%;
}

/* Theme variables --------------------------------------------------------- */
:root {
  /* app-level colors */
  --bg-app: #f3f4f6; /* tailwind gray-100 */
  --bg-card: #ffffff; /* card backgrounds */
  --bg-muted: #f9fafb; /* subtle backgrounds */
  --text: #111827; /* gray-900 */
  --text-muted: #6b7280; /* gray-500 */
  --muted: #9ca3af; /* gray-400 for strokes */
  --border: #e5e7eb; /* gray-200 */
  --on-accent: #ffffff; /* text on accent/colored nodes */
}

/* dark theme overrides */
.dark {
  /* pure black / gray tones for dark theme */
  --bg-app: #000000; /* page background */
  --bg-card: #0b0b0b; /* card backgrounds */
  --bg-muted: #090909; /* subtle muted surfaces */
  --text: #e6e6e6; /* light text */
  --text-muted: #9ca3af; /* muted text */
  --muted: #6b7280; /* strokes / links */
  --border: #262626; /* neutral dark border */
  --on-accent: #000000; /* text on accent/colored nodes */
}

/* Map some commonly used Tailwind utility classes to variables so existing
   markup largely works without changing classnames. Use !important so these
   override generated utility styles where necessary. */
.dark .bg-white {
  background-color: var(--bg-card) !important;
}
.dark .bg-gray-100 {
  background-color: var(--bg-app) !important;
}
.dark .bg-gray-50 {
  background-color: var(--bg-muted) !important;
}
.dark .bg-gray-200 {
  background-color: rgba(255, 255, 255, 0.02) !important;
}
.dark .text-gray-500 {
  color: var(--text-muted) !important;
}
.dark .text-gray-400 {
  color: var(--text-muted) !important;
}
.dark .text-gray-700 {
  color: var(--text) !important;
}
.dark .text-gray-900 {
  color: var(--text) !important;
}
.dark .border {
  border-color: var(--border) !important;
}
.dark .border-t {
  border-top-color: var(--border) !important;
}
.dark .hover\:bg-gray-50:hover {
  background-color: var(--bg-muted) !important;
}
.dark .hover\:bg-gray-100:hover {
  background-color: rgba(255, 255, 255, 0.02) !important;
}
.dark .bg-yellow-50 {
  background-color: rgba(250, 244, 195, 0.06) !important;
}

/* Base app background and text should follow variables */
body,
#root {
  background: var(--bg-app);
  color: var(--text);
}

/* small helpers for accessibility when using variable-based backgrounds */
.card-bg {
  background: var(--bg-card);
  border-color: var(--border);
}
